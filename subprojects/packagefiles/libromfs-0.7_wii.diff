diff --git a/source/romfs.c b/source/romfs.c
index 02d6bd5..a3c2c2a 100644
--- a/source/romfs.c
+++ b/source/romfs.c
@@ -15,7 +15,18 @@
 #include <sys/param.h>
 #include <stdint.h>
 #include <unistd.h>
+
+#if defined(__WII__)
+#include <gccore.h>
+
+#define OSBlockMove(dest, src, size, flush) memmove((dest), (src), (size))
+
+#elif defined(__WIIU__)
 #include <coreinit/memory.h>
+#else
+#error "Unsupported platform"
+#endif
+
 
 
 /* include the implementation files (needed for static functions) */
@@ -34,41 +45,41 @@ static int32_t romfs_initialised = 0;
 /* romfsInit: intialize romfs */
 int32_t romfsInit(void)
 {
-	/* already initialized */
-	if (romfs_initialised)
-		return 0;
+    /* already initialized */
+    if (romfs_initialised)
+        return 0;
 
-	/* create romfs file entries */
-	tar_create_entries(_binary_romfs_tar_start, _binary_romfs_tar_end);
+    /* create romfs file entries */
+    tar_create_entries(_binary_romfs_tar_start, _binary_romfs_tar_end);
 
-	/* add the romfs devoptab to devices list */
-	if (AddDevice(&romfs_devoptab) == -1)
-	{
-		node_destroytree(NULL, 0);
-		return -1;
-	}
+    /* add the romfs devoptab to devices list */
+    if (AddDevice(&romfs_devoptab) == -1)
+    {
+        node_destroytree(NULL, 0);
+        return -1;
+    }
 
-	/* set the intialized flag */
-	romfs_initialised = 1;
+    /* set the intialized flag */
+    romfs_initialised = 1;
 
-	return 0;
+    return 0;
 }
 
 /* romfsExit: exit romfs */
 int32_t romfsExit(void)
 {
-	/* never initialized */
-	if (!romfs_initialised)
-		return -1;
+    /* never initialized */
+    if (!romfs_initialised)
+        return -1;
 
-	/* remove the romfs devoptab from devices list */
-	RemoveDevice("romfs:");
+    /* remove the romfs devoptab from devices list */
+    RemoveDevice("romfs:");
 
-	/* deallocate the file tree */
-	node_destroytree(NULL, 0);
+    /* deallocate the file tree */
+    node_destroytree(NULL, 0);
 
-	/* clear the initialized flag */
-	romfs_initialised = 0;
+    /* clear the initialized flag */
+    romfs_initialised = 0;
 
-	return 0;
+    return 0;
 }
